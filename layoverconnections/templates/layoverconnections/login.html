{% extends "layoverconnections/signup.html" %}

{% block content %}      
<!--Registration form--> 
        <!-- Template formatting -->
                <h1> Log In</h1>
                <form action="{% url 'layoverconnections:login' %}" method="post">
                  {% csrf_token %}
                  {{ form.as_p}}
                <!-- 2 column grid layout with text inputs for the first and last names -->
                <div class="row">
                  <div class="col-md-12 mb-4">
                    <div class="form-outline">
                      <input type="text" name="username"id="form3Example2" class="form-control" />
                      <label class="form-label" for="form3Example2"><strong>Username</strong></label>
                    </div>
                  </div>
                </div>

                <!-- Email input 
                <div class="form-outline mb-4">
                  <input type="email" name="email" id="form3Example3" class="form-control" />
                  <label class="form-label" for="form3Example3"><strong>E-mail Address</strong></label>
                </div>
                -->
  
                <!-- Password input -->
                <div class="form-outline mb-4">
                  <input type="password" name="password" id="form3Example4" class="form-control" />
                  <label class="form-label" for="form3Example4"><strong>Password</strong></label>
                </div>

                <!-- Submit button -->
                <button type="submit" class="btn btn-primary btn-block mb-4" value="Login">
                    <strong>Log In</strong>
                </button>
                {% if message %}
                  <div>{{ message }}</div>
                {% endif %}

                <!-- Signup Redirect -->
                <a class="btn btn-primary btn-block mb-4" href="{% url 'layoverconnections:register' %}" role="button">
                  <strong>Sign up</strong>
                </a>

                <!-- Register buttons -->
                <div class="text-center">
                    <p>or sign up with:</p>
                    <!-- Google Sign-on Prompt consider Django Server app recommendations-->
                    <div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>
                    <script>
                      function onSignIn(googleUser) {
                        // Useful data for your client-side scripts:
                        var profile = googleUser.getBasicProfile();
                        console.log("ID: " + profile.getId()); // Don't send this directly to your server!
                        console.log('Full Name: ' + profile.getName());
                        console.log('Given Name: ' + profile.getGivenName());
                        console.log('Family Name: ' + profile.getFamilyName());
                        console.log("Image URL: " + profile.getImageUrl());
                        console.log("Email: " + profile.getEmail());
                
                        // The ID token you need to pass to your backend:
                        var id_token = googleUser.getAuthResponse().id_token;
                        console.log("ID Token: " + id_token);
                      }
                    </script>
                    <!-- Checkbox -->
                    <div class="form-check d-flex justify-content-center  mt-4 mb-4">
                        <input class="form-check-input me-2" type="checkbox" value="" id="form2Example33" unchecked />
                        <label class="form-check-label" for="form2Example33">
                          Subscribe for updates to our app.
                        </label>
                    </div>
{% endblock %}